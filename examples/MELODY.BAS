# MELODY.BAS - esempio dellâ€™uso del comando TONE per generare una semplice melodia. 
# Occorre collegare una piccola capsula piezoelettrica tra il pin analogico A7 (PIN=21) e la massa (GND)
100 REM "MELODY.BAS"
105 DIM MEL(24):DIM DUR(24)
120 MEL(0)=740:MEL(1)=740:MEL(2)=587:MEL(3)=494:MEL(4)=494:MEL(5)=659 
130 MEL(6)=659:MEL(7)=659:MEL(8)=831:MEL(9)=831:MEL(10)=880:MEL(11)=988 
140 MEL(12)=880:MEL(13)=880:MEL(14)=880:MEL(15)=659:MEL(16)=587:MEL(17)=740 
150 MEL(18)=740:MEL(19)=740:MEL(20)=659:MEL(21)=659:MEL(22)=740:MEL(23)=659
160 DUR(0)=8:DUR(1)=8:DUR(2)=8:DUR(3)=4:DUR(4)=4:DUR(5)=4 
170 DUR(6)=4:DUR(7)=5:DUR(8)=8:DUR(9)=8:DUR(10)=8:DUR(11)=8 
180 DUR(12)=8:DUR(13)=8:DUR(14)=8:DUR(15)=4:DUR(16)=4:DUR(17)=4 
190 DUR(18)=4:DUR(19)=5:DUR(20)=8:DUR(21)=8:DUR(22)=8:DUR(23)=8
200 PIN=21:LOOP=0
210 PRINTAT 30,20,45200,3,"Ardu Melody .."
215 PRINTAT 10,60,65200,3,"Mem: ",MEM() 
220 FOR N=0 TO 23
230 ND = 1000/DUR(N)
240 TONE PIN,MEL(N),ND
250 PN=ND*1.3
260 DELAY PN
270 NOTONE PIN
280 NEXT:LOOP=LOOP+1
285 IF LOOP<5 THEN GOTO 220
290 PRINTAT 30,200,56000,3,"..end"
300 END
